<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expeed Digital Signage</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a1a;
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(90deg, #ffffff 0%, #dc3545 100%);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .title {
            height: 40px;
            display: flex;
            align-items: center;
        }

        .logo {
            height: 100%;
            width: auto;
            object-fit: contain;
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
            opacity: 0;
            transform: translateY(-5px);
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .header:hover .controls {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
        }

        .btn.active {
            background: rgba(255,255,255,0.4);
        }

        .timer-input {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            color: white;
            width: 60px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .timer-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .status {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .progress-bar {
            width: 100px;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: #dc3545;
            transition: width 1s linear;
        }

        .main-content {
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        .iframe-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .content-frame {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        .url-manager {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            z-index: 1000;
            max-width: 300px;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .url-manager.open {
            transform: translateX(0);
        }

        .url-list {
            margin-bottom: 15px;
        }

        .url-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            margin: 5px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            font-size: 12px;
            flex-wrap: wrap;
        }

        .url-item.active {
            background: rgba(220, 53, 69, 0.3);
        }

        .url-info {
            display: flex;
            flex-direction: column;
            flex: 1;
            gap: 2px;
        }

        .url-text {
            cursor: pointer;
            font-weight: 500;
        }

        .url-duration {
            font-size: 10px;
            color: rgba(255,255,255,0.7);
        }

        .url-controls {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .duration-input {
            width: 50px;
            padding: 2px 4px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 3px;
            color: white;
            font-size: 10px;
            text-align: center;
        }

        .url-input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 5px;
            color: white;
        }

        .url-input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .remove-btn {
            background: #ff4757;
            border: none;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
        }

        .toggle-manager {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.6);
            border: none;
            color: white;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">
            <img class="logo" id="logoImg" alt="Expeed Software">
        </div>
        <div class="controls">
            <button class="btn" id="playPauseBtn"><span style="color: #4a4a4a;">⏸</span> Pause</button>
            <button class="btn" id="prevBtn"><span style="color: #4a4a4a;">⏮</span> Previous</button>
            <button class="btn" id="nextBtn"><span style="color: #4a4a4a;">⏭</span> Next</button>
            <input type="number" class="timer-input" id="timerInput" value="10" min="1" max="300" placeholder="10">
            <span style="font-size: 12px;">sec</span>
        </div>
        <div class="status">
            <span id="currentUrl">Page 1 of 3</span>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <button class="toggle-manager" id="toggleManager">⚙️</button>
        
        <div class="url-manager" id="urlManager">
            <h3 style="margin-bottom: 10px; font-size: 14px;">Manage URLs</h3>
            <div class="url-list" id="urlList"></div>
            <input type="text" class="url-input" id="newLabelInput" placeholder="Enter label (e.g., Dashboard, Weather)..." style="margin-bottom: 5px;">
            <input type="url" class="url-input" id="newUrlInput" placeholder="Enter new URL...">
            <div style="display: flex; gap: 5px; margin-bottom: 5px;">
                <input type="number" class="url-input" id="newDurationInput" placeholder="Duration (sec)" min="1" max="300" style="width: 50%;">
                <button class="btn" id="addUrlBtn" style="width: 50%;">Add URL</button>
            </div>
            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
                <h4 style="font-size: 12px; margin-bottom: 8px;">Global Settings</h4>
                <label style="font-size: 11px; display: block; margin-bottom: 5px;">Default duration for new URLs:</label>
                <input type="number" class="url-input" id="defaultDurationInput" value="10" min="1" max="300" style="width: 100%;">
            </div>
        </div>

        <div class="iframe-container">
            <iframe class="content-frame" id="contentFrame" src="about:blank"></iframe>
        </div>
    </div>

    <script>
        class DigitalSignage {
            constructor() {
                this.urls = [
                    { url: 'https://www.openstreetmap.org', duration: 10, label: 'Maps' },
                    { url: 'https://codepen.io', duration: 15, label: 'CodePen' },
                    { url: 'https://www.youtube.com/embed/dQw4w9WgXcQ', duration: 8, label: 'Video' }
                ];
                this.currentIndex = 0;
                this.isPlaying = true;
                this.interval = null;
                this.duration = 10; // current page duration
                this.defaultDuration = 10; // default for new URLs
                this.startTime = Date.now();

                this.initElements();
                this.loadLogo();
                this.bindEvents();
                this.start();
                this.updateUrlList();
            }

            async loadLogo() {
                // Embed the actual Expeed Software logo
                const logoSVG = `<svg width="133" height="42" viewBox="0 0 133 42" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M51.5724 15.7607H45.2096V20.5391H52.6608V22.7188H42.5305V7.12598H52.5771V9.30562H45.2096V13.5811H51.5724V15.7607Z" fill="#42515A"/>
<path d="M62.8748 12.7427L66.1399 7.12598H69.3213L64.5492 14.8386L69.405 22.7188H66.2236L62.8748 17.0182L59.5259 22.7188H56.3445L61.2003 14.8386L56.5119 7.12598H59.6096L62.8748 12.7427Z" fill="#42515A"/>
<path d="M76.7726 16.9344V22.7188H74.0935V7.12598H80.0377C81.7959 7.12598 83.1354 7.54514 84.2238 8.46729C85.2285 9.38945 85.7308 10.5631 85.7308 12.0721C85.7308 13.5811 85.2285 14.7547 84.2238 15.6769C83.2191 16.5152 81.7959 16.9344 80.0377 16.9344H76.7726ZM76.7726 14.7547H80.0377C81.0424 14.7547 81.7122 14.5032 82.2145 14.0841C82.7168 13.6649 82.968 12.9942 82.968 12.1559C82.968 11.3176 82.7168 10.6469 82.2145 10.1439C81.7122 9.64095 80.9587 9.38945 80.1214 9.38945H76.7726V14.8386V14.7547Z" fill="#42515A"/>
<path d="M99.7961 15.7607H93.4332V20.5391H100.884V22.7188H90.6704V7.12598H100.801V9.30562H93.4332V13.5811H99.7961V15.7607Z" fill="#42515A"/>
<path d="M114.866 15.7607H108.419V20.5391H115.954V22.7188H105.74V7.12598H115.871V9.30562H108.419V13.5811H114.866V15.7607Z" fill="#42515A"/>
<path d="M120.726 22.7188V7.12598H125.331C126.671 7.12598 127.926 7.46131 129.015 8.04813C130.103 8.63496 130.94 9.55711 131.526 10.6469C132.112 11.7368 132.364 13.0781 132.364 14.5032V15.2577C132.364 16.7667 132.029 18.0242 131.443 19.1978C130.857 20.2877 130.019 21.2098 128.931 21.7966C127.843 22.3835 126.587 22.7188 125.164 22.7188H120.643H120.726ZM123.405 9.30562V20.5391H125.164C126.587 20.5391 127.675 20.12 128.429 19.1978C129.182 18.2757 129.601 17.0182 129.601 15.3415V14.5032C129.601 12.8266 129.266 11.4853 128.512 10.6469C127.759 9.80861 126.671 9.30562 125.331 9.30562H123.405Z" fill="#42515A"/>
<path d="M45.2933 31.1856C44.3724 30.9341 43.7026 30.5988 43.284 30.2635C42.8654 29.8443 42.698 29.4252 42.698 28.8383C42.698 28.2515 42.9491 27.6647 43.4515 27.2455C43.9538 26.8264 44.6236 26.6587 45.377 26.6587C45.9631 26.6587 46.3817 26.7425 46.8003 26.994C47.2189 27.2455 47.5538 27.497 47.805 27.8323C48.0561 28.1677 48.1399 28.5868 48.1399 29.0898H47.0515C47.0515 28.5868 46.884 28.2515 46.6329 27.9162C46.298 27.6647 45.8794 27.497 45.377 27.497C44.8747 27.497 44.4561 27.5808 44.2049 27.8323C43.9538 28.0838 43.7863 28.4192 43.7863 28.7545C43.7863 29.0898 43.9538 29.3413 44.2049 29.5928C44.4561 29.8443 44.9584 30.012 45.6282 30.1796C46.298 30.3473 46.8003 30.5988 47.2189 30.7665C47.5538 31.018 47.8887 31.2695 48.0561 31.521C48.2236 31.8563 48.3073 32.1916 48.3073 32.6108C48.3073 33.2814 48.0561 33.7844 47.5538 34.2036C47.0515 34.6228 46.3817 34.7904 45.5445 34.7904C44.9584 34.7904 44.4561 34.7066 44.0375 34.4551C43.5352 34.2036 43.2003 33.9521 42.9491 33.6168C42.698 33.2814 42.5305 32.8623 42.5305 32.3593H43.6189C43.6189 32.8623 43.7863 33.1976 44.1212 33.5329C44.4561 33.7844 44.9584 33.9521 45.5445 33.9521C46.1305 33.9521 46.5491 33.8683 46.8003 33.6168C47.1352 33.3653 47.2189 33.1138 47.2189 32.6946C47.2189 32.2755 47.0515 32.024 46.8003 31.7725C46.5491 31.521 46.0468 31.3533 45.2933 31.1018" fill="#BD2330"/>
<path d="M60.4468 31.0182C60.4468 31.7726 60.2794 32.4433 60.0282 33.0301C59.777 33.617 59.3584 34.0361 58.9398 34.3714C58.4375 34.7068 57.9352 34.7906 57.2654 34.7906C56.5956 34.7906 56.0933 34.6229 55.591 34.2876C55.0886 33.9523 54.7537 33.5331 54.4189 32.9463C54.1677 32.3595 54.0002 31.6888 54.0002 30.9343V30.3475C54.0002 29.593 54.1677 28.9223 54.4189 28.3355C54.67 27.7487 55.0886 27.3295 55.591 26.9942C56.0933 26.6589 56.5956 26.4912 57.2654 26.4912C57.9352 26.4912 58.4375 26.6589 58.9398 26.9942C59.4421 27.3295 59.777 27.7487 60.0282 28.3355C60.2794 28.9223 60.4468 29.593 60.4468 30.3475V30.8505V31.0182ZM59.4421 30.5152C59.4421 29.593 59.2747 28.8385 58.8561 28.3355C58.4375 27.8325 57.9352 27.581 57.2654 27.581C56.5956 27.581 56.0933 27.8325 55.6747 28.3355C55.2561 28.8385 55.0886 29.5092 55.0886 30.4313V31.0182C55.0886 31.9403 55.2561 32.6948 55.6747 33.1978C56.0933 33.7008 56.5956 33.9523 57.2654 33.9523C57.9352 33.9523 58.4375 33.7008 58.8561 33.1978C59.191 32.6948 59.4421 32.0241 59.4421 31.102V30.5152Z" fill="#BD2330"/>
<path d="M71.1633 31.2693H67.8145V34.7902H66.7261V26.8262H71.6656V27.6645H67.8145V30.431H71.1633V31.2693Z" fill="#BD2330"/>
<path d="M83.3028 27.6645H80.7074V34.7902H79.7028V27.6645H77.1074V26.8262H83.3028V27.6645Z" fill="#BD2330"/>
<path d="M91.0053 32.2753L91.0891 33.2813L91.3402 32.3591L92.9309 26.8262H93.8519L95.3589 32.3591L95.61 33.3651L95.7775 32.2753L96.9496 26.8262H98.0379L96.1123 34.7902H95.1077L93.517 28.922L93.3495 28.3352L93.2658 28.922L91.5914 34.7902H90.5867L88.6611 26.8262H89.7495L91.0053 32.2753Z" fill="#BD2330"/>
<path d="M108.084 32.6944H104.735L103.982 34.7902H102.894L105.908 26.8262H106.828L109.842 34.7902H108.754L108.001 32.6944H108.084ZM105.07 31.8561H107.749L106.41 28.0837L105.07 31.8561Z" fill="#BD2330"/>
<path d="M118.633 31.5208H116.792V34.7902H115.703V26.8262H118.382C119.303 26.8262 119.973 26.9938 120.475 27.413C120.978 27.8322 121.229 28.419 121.229 29.1735C121.229 29.6765 121.061 30.0956 120.81 30.431C120.559 30.7663 120.14 31.1016 119.722 31.2693L121.564 34.6226H120.475L118.717 31.3531L118.633 31.5208ZM116.792 30.6825H118.382C118.885 30.6825 119.303 30.5148 119.638 30.2633C119.973 30.0118 120.14 29.5926 120.14 29.1735C120.14 28.6705 119.973 28.3352 119.722 27.9998C119.387 27.7483 118.968 27.5807 118.466 27.5807H116.875V30.5986L116.792 30.6825Z" fill="#BD2330"/>
<path d="M131.861 31.1016H128.345V33.9519H132.364V34.7902H127.34V26.8262H132.364V27.6645H128.345V30.2633H131.861V31.1016Z" fill="#BD2330"/>
<path d="M19.4235 14.0839C19.0049 14.3354 18.4188 14.3354 18.0002 14.0839L14.6514 12.1557L27.8794 4.61084V8.38329C27.8794 8.88629 27.6282 9.38928 27.1259 9.64078L19.4235 14.0839Z" fill="#42515A"/>
<path d="M19.7583 0V3.77245C19.7583 4.27545 19.5071 4.77844 19.0048 5.02994L11.3024 9.47305C10.8838 9.72455 10.2978 9.72455 9.87915 9.47305L6.61401 7.54491L19.842 0L19.7583 0Z" fill="#42515A"/>
<path d="M4.01863 15.3415V19.114C4.01863 19.617 4.26979 20.12 4.77212 20.3715L17.9164 27.9164C18.335 28.1679 18.921 28.1679 19.3397 27.9164L33.1537 19.9523L37.1723 17.6888V30.599C37.1723 31.102 36.9212 31.605 36.4188 31.8565L19.2559 41.7487C18.8373 42.0002 18.2513 42.0002 17.8327 41.7487L0.753493 31.9403C0.334886 31.6888 0 31.1858 0 30.6829V26.9104L5.94422 30.3475L17.8327 37.2218C18.2513 37.4733 18.8373 37.4733 19.2559 37.2218L32.0653 29.8445H32.2328L33.1537 29.2577V24.7308L19.5071 32.611H19.3397C18.921 32.9463 18.335 32.9463 17.9164 32.611L4.01863 24.5631L0 22.2996V8.46729L1.42326 9.22178L2.42792 9.8086L5.44189 11.5691L18.0001 18.7787C18.4187 19.0302 19.0048 19.0302 19.4234 18.7787L31.8979 11.5691L35.9165 9.22178L37.256 8.46729V12.2397C37.256 12.7427 37.0049 13.2457 36.5026 13.4972L33.2374 15.3415L19.4234 23.3056C19.0048 23.5571 18.4187 23.5571 18.0001 23.3056L4.01863 15.3415Z" fill="#D1232A"/>
</svg>`;
                
                const logoDataUrl = 'data:image/svg+xml;base64,' + btoa(logoSVG);
                this.logoImg.src = logoDataUrl;
                this.logoImg.style.display = 'block';
            }

            initElements() {
                this.frame = document.getElementById('contentFrame');
                this.playPauseBtn = document.getElementById('playPauseBtn');
                this.prevBtn = document.getElementById('prevBtn');
                this.nextBtn = document.getElementById('nextBtn');
                this.timerInput = document.getElementById('timerInput');
                this.currentUrlSpan = document.getElementById('currentUrl');
                this.progressBar = document.getElementById('progressBar');
                this.urlManager = document.getElementById('urlManager');
                this.toggleManager = document.getElementById('toggleManager');
                this.urlList = document.getElementById('urlList');
                this.newLabelInput = document.getElementById('newLabelInput');
                this.newUrlInput = document.getElementById('newUrlInput');
                this.newDurationInput = document.getElementById('newDurationInput');
                this.defaultDurationInput = document.getElementById('defaultDurationInput');
                this.addUrlBtn = document.getElementById('addUrlBtn');
                this.logoImg = document.getElementById('logoImg');
            }

            bindEvents() {
                this.playPauseBtn.addEventListener('click', () => this.togglePlayPause());
                this.prevBtn.addEventListener('click', () => this.previous());
                this.nextBtn.addEventListener('click', () => this.next());
                this.timerInput.addEventListener('change', () => this.updateDuration());
                this.toggleManager.addEventListener('click', () => this.toggleUrlManager());
                this.addUrlBtn.addEventListener('click', () => this.addUrl());
                this.newLabelInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addUrl();
                });
                this.newUrlInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addUrl();
                });
                this.newDurationInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.addUrl();
                });
                this.defaultDurationInput.addEventListener('change', () => {
                    this.defaultDuration = parseInt(this.defaultDurationInput.value) || 10;
                });
            }

            start() {
                this.loadCurrentUrl();
                this.startTimer();
            }

            loadCurrentUrl() {
                if (this.urls.length > 0) {
                    const currentUrlObj = this.urls[this.currentIndex];
                    
                    // Option to use CORS proxy for problematic URLs
                    let targetUrl = currentUrlObj.url;
                    
                    // Uncomment below to use a CORS proxy service:
                    // targetUrl = `https://corsproxy.io/?${encodeURIComponent(currentUrlObj.url)}`;
                    // Alternative: targetUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(currentUrlObj.url)}`;
                    
                    this.frame.src = targetUrl;
                    this.duration = currentUrlObj.duration;
                    this.updateStatus();
                    this.updateUrlList();
                }
            }

            startTimer() {
                if (this.interval) clearInterval(this.interval);
                
                this.startTime = Date.now();
                this.updateProgress();
                
                this.interval = setInterval(() => {
                    if (this.isPlaying) {
                        this.updateProgress();
                        
                        const elapsed = (Date.now() - this.startTime) / 1000;
                        if (elapsed >= this.duration) {
                            this.next();
                        }
                    }
                }, 100);
            }

            updateProgress() {
                if (!this.isPlaying) return;
                
                const elapsed = (Date.now() - this.startTime) / 1000;
                const progress = Math.min((elapsed / this.duration) * 100, 100);
                this.progressBar.style.width = progress + '%';
            }

            togglePlayPause() {
                this.isPlaying = !this.isPlaying;
                this.playPauseBtn.innerHTML = this.isPlaying ? '<span style="color: #4a4a4a;">⏸</span> Pause' : '<span style="color: #4a4a4a;">▶</span> Play';
                this.playPauseBtn.classList.toggle('active', !this.isPlaying);
                
                if (this.isPlaying) {
                    this.startTime = Date.now() - (this.startTime ? (Date.now() - this.startTime) : 0);
                }
            }

            next() {
                this.currentIndex = (this.currentIndex + 1) % this.urls.length;
                this.loadCurrentUrl();
                this.startTimer();
            }

            previous() {
                this.currentIndex = (this.currentIndex - 1 + this.urls.length) % this.urls.length;
                this.loadCurrentUrl();
                this.startTimer();
            }

            updateDuration() {
                this.duration = parseInt(this.timerInput.value) || 10;
                this.startTimer();
            }

            updateStatus() {
                if (this.urls.length > 0) {
                    const currentUrlObj = this.urls[this.currentIndex];
                    const displayName = currentUrlObj.label || new URL(currentUrlObj.url).hostname;
                    this.currentUrlSpan.textContent = `${displayName} (${this.currentIndex + 1}/${this.urls.length}) - ${currentUrlObj.duration}s`;
                } else {
                    this.currentUrlSpan.textContent = 'No URLs loaded';
                }
            }

            toggleUrlManager() {
                this.urlManager.classList.toggle('open');
            }

            updateUrlList() {
                this.urlList.innerHTML = '';
                this.urls.forEach((urlObj, index) => {
                    const item = document.createElement('div');
                    item.className = `url-item ${index === this.currentIndex ? 'active' : ''}`;
                    
                    const urlInfo = document.createElement('div');
                    urlInfo.className = 'url-info';
                    
                    const urlText = document.createElement('div');
                    urlText.className = 'url-text';
                    urlText.textContent = urlObj.label || new URL(urlObj.url).hostname;
                    urlText.addEventListener('click', () => {
                        this.currentIndex = index;
                        this.loadCurrentUrl();
                        this.startTimer();
                    });
                    
                    const urlDuration = document.createElement('div');
                    urlDuration.className = 'url-duration';
                    urlDuration.textContent = `Duration: ${urlObj.duration}s | URL: ${new URL(urlObj.url).hostname}`;
                    
                    urlInfo.appendChild(urlText);
                    urlInfo.appendChild(urlDuration);
                    
                    const controls = document.createElement('div');
                    controls.className = 'url-controls';
                    controls.style.flexDirection = 'column';
                    controls.style.gap = '3px';
                    
                    const topControls = document.createElement('div');
                    topControls.style.display = 'flex';
                    topControls.style.gap = '5px';
                    topControls.style.alignItems = 'center';
                    
                    const labelInput = document.createElement('input');
                    labelInput.type = 'text';
                    labelInput.className = 'duration-input';
                    labelInput.style.width = '80px';
                    labelInput.value = urlObj.label || '';
                    labelInput.placeholder = 'Label';
                    labelInput.addEventListener('change', () => {
                        this.urls[index].label = labelInput.value.trim();
                        this.updateUrlList();
                        this.updateStatus();
                    });
                    
                    const durationInput = document.createElement('input');
                    durationInput.type = 'number';
                    durationInput.className = 'duration-input';
                    durationInput.value = urlObj.duration;
                    durationInput.min = '1';
                    durationInput.max = '300';
                    durationInput.addEventListener('change', () => {
                        const newDuration = parseInt(durationInput.value) || 10;
                        this.urls[index].duration = newDuration;
                        if (index === this.currentIndex) {
                            this.duration = newDuration;
                        }
                        this.updateUrlList();
                        this.updateStatus();
                    });
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'remove-btn';
                    removeBtn.textContent = '×';
                    removeBtn.addEventListener('click', () => this.removeUrl(index));
                    
                    topControls.appendChild(labelInput);
                    topControls.appendChild(durationInput);
                    topControls.appendChild(removeBtn);
                    
                    controls.appendChild(topControls);
                    
                    item.appendChild(urlInfo);
                    item.appendChild(controls);
                    this.urlList.appendChild(item);
                });
            }

            addUrl() {
                const url = this.newUrlInput.value.trim();
                const label = this.newLabelInput.value.trim();
                const duration = parseInt(this.newDurationInput.value) || this.defaultDuration;
                
                if (url && this.isValidUrl(url)) {
                    this.urls.push({ url, duration, label });
                    this.newLabelInput.value = '';
                    this.newUrlInput.value = '';
                    this.newDurationInput.value = '';
                    this.updateUrlList();
                    this.updateStatus();
                }
            }

            removeUrl(index) {
                if (this.urls.length > 1) {
                    this.urls.splice(index, 1);
                    if (this.currentIndex >= this.urls.length) {
                        this.currentIndex = 0;
                    }
                    this.loadCurrentUrl();
                    this.startTimer();
                }
            }

            isValidUrl(string) {
                try {
                    new URL(string);
                    return true;
                } catch (_) {
                    return false;
                }
            }
        }

        // Initialize the digital signage when page loads
        document.addEventListener('DOMContentLoaded', async () => {
            // Check if running in Electron
            if (window.electronAPI) {
                const platform = await window.electronAPI.getPlatform();
                console.log('Running on Electron:', platform);
                
                // Prevent sleep for digital signage
                if (window.signageAPI) {
                    window.signageAPI.preventSleep();
                }
            }
            
            new DigitalSignage();
        });
    </script>
</body>
</html>